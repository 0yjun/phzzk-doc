# 임계값 관리 서비스 (Threshold Management Service)

## 설명
- **핵심 엔티티**: `Threshold`
    - `Threshold` 엔티티는 시스템에서 사용되는 각종 임계값을 정의하고 관리한다.
    - 임계값은 다양한 서비스에서 사용되며, 각 서비스에 대한 설정과 변경 사항을 추적한다.

- **기능**:
    - 임계값을 **등록**한다.
    - 임계값을 **수정**한다.
    - 임계값을 **삭제**한다.
    - 각 서비스에서 사용되는 임계값을 **조회**한다.
    - 임계값의 **변경 이력**을 추적한다.
    - 임계값을 **갱신**할 때 해당 임계값이 사용 중인 서비스에 **알림**을 전송한다.
    - 임계값 변경 시 **이벤트 소싱**을 통해 변경 이력을 저장하고 관리한다.
    - **임계값의 상태**를 사용 중/사용 안 함으로 설정하여 관리한다.

## 핵심 엔티티
### Threshold
- **필드**:
    - `id`: 임계값의 고유 식별자.
    - `name`: 임계값의 이름 (예: RETRY_COUNT, MAX_RETRY_LIMIT 등).
    - `value`: 임계값의 설정 값.
    - `status`: 임계값의 상태 (예: 사용 중, 사용 안 함).
    - `created_at`: 임계값이 등록된 시간.
    - `updated_at`: 임계값이 마지막으로 수정된 시간.

### ThresholdServiceUsage
- **필드**:
    - `id`: 서비스-임계값 관계의 고유 식별자.
    - `threshold_id`: 임계값 ID.
    - `service_id`: 임계값을 사용하는 서비스 ID (예: transcoding, packaging, was 등).
    - `in_use`: 임계값이 현재 서비스에서 사용 중인지 여부 (T/F).

## 데이터 흐름
- **임계값 관리**:
    - 관리자는 웹 UI를 통해 임계값을 **등록**하고, 해당 임계값의 **값**을 변경할 수 있다.
    - 관리자는 각 서비스에서 사용하는 **임계값 목록**을 조회할 수 있으며, 임계값을 **수정**하거나 **삭제**할 수 있다.
    - 변경된 임계값은 해당 서비스를 **알림**으로 전달하여 최신 임계값을 반영할 수 있게 한다.

- **임계값 사용**:
    - 각 마이크로서비스는 해당 서비스에서 필요한 임계값을 **조회**하고 사용한다.
    - 서비스가 임계값을 **수정**하거나 **삭제**할 때, 이를 임계값 관리 서비스로 전달하여 변경 사항을 반영한다.

- **임계값 변경 이력**:
    - 임계값이 변경될 때마다, 변경 이력은 **이벤트 소싱**을 통해 기록된다. 이를 통해 임계값의 변경 사항을 **추적**할 수 있다.
